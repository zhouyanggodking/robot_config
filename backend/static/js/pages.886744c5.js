(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages"],{"0bbe":function(e,t,n){},"101f":function(e,t,n){"use strict";var a=n("555c"),i=n.n(a);i.a},1479:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"template"},[n("navigation",{staticClass:"top-bar"}),n("div",{staticClass:"container"},[n("go-back",{staticClass:"back"}),n("router-view",{staticClass:"page"})],1)],1)},i=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"go-back"},[n("div",{on:{click:e.goBack}},[n("i",{staticClass:"el-icon-back"}),e._v("返回")])])},s=[],o={data:function(){return{testPages:["audio-page","camera-page","keypad-page","monitor-page","radio-page"]}},methods:{goBack:function(){var e=this.$route.name;-1!==this.testPages.indexOf(e)?this.$router.push({name:"test-page"}):this.$router.push({name:"main-page"})}}},c=o,u=(n("9501"),n("2877")),l=Object(u["a"])(c,r,s,!1,null,"592e2fcb",null);l.options.__file="GoBack.vue";var f=l.exports,d=n("f4dd"),p={components:{GoBack:f,Navigation:d["a"]}},g=p,v=(n("a1c7"),Object(u["a"])(g,a,i,!1,null,"6402c8da",null));v.options.__file="PageTemplate.vue";t["default"]=v.exports},"18a9":function(e,t,n){},"228d":function(e,t,n){},"22e1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"camera-page"},[n("h1",[e._v("测试摄像头")]),n("div",{staticClass:"operations"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-video-camera",loading:e.isUpdating},on:{click:e.onTestBtnClick}},[e._v("测试")])],1),!e.isUpdating&&e.imageData?n("div",{staticClass:"image-container"},[n("el-image",{staticClass:"image",attrs:{fit:"contain",src:"data:image/jpg;base64, "+e.imageData}})],1):e._e()])},i=[],r=n("a34a"),s=n.n(r),o=n("de0f");function c(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){c(r,a,i,s,o,"next",e)}function o(e){c(r,a,i,s,o,"throw",e)}s(void 0)})}}var l={data:function(){return{isUpdating:!1,imageData:""}},methods:{onTestBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isUpdating=!0,this.imageData="",e.next=5,o["a"].captureCamera();case 5:this.imageData=e.sent,this.isUpdating=!1,this.$message({message:"测试测试摄像头成功",type:"success"}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),this.isUpdating=!1,this.$message({message:"测试测试摄像头失败",type:"error"});case 14:case"end":return e.stop()}},e,this,[[0,10]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){o["a"].enterTestEnv("camera")},beforeDestroy:function(){o["a"].exitTestEnv("camera")}},f=l,d=(n("9f6b"),n("2877")),p=Object(d["a"])(f,a,i,!1,null,"7818dfc5",null);p.options.__file="CameraPage.vue";t["default"]=p.exports},2533:function(e,t,n){},"270b":function(e,t,n){},"28a8":function(e,t,n){"use strict";var a=n("f94b"),i=n.n(a);i.a},"48ca":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row login-page"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginModel,rules:e.loginRules}},[n("div",{staticClass:"hint"},[e._v("\n      用户登陆\n    ")]),n("el-divider"),n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.loginModel.username,callback:function(t){e.$set(e.loginModel,"username",t)},expression:"loginModel.username"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.loginModel.password,callback:function(t){e.$set(e.loginModel,"password",t)},expression:"loginModel.password"}})],1),n("el-button",{staticClass:"btn login",attrs:{type:"primary"},on:{click:e.login}},[e._v("登陆")])],1)],1)},i=[],r=n("a34a"),s=n.n(r),o=n("9ce6");function c(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){c(r,a,i,s,o,"next",e)}function o(e){c(r,a,i,s,o,"throw",e)}s(void 0)})}}var l={data:function(){return{loginModel:{username:"",password:""},loginRules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{login:function(){var e=u(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.loginForm.validate(function(){var e=u(s.a.mark(function e(n){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.prev=1,e.next=4,o["a"].login(t.loginModel.username,t.loginModel.password);case 4:t.$router.push({name:"main-page"}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),t.$message({message:"登陆失败， 用户名或密码错误",type:"error"});case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},f=l,d=(n("c9ce"),n("2877")),p=Object(d["a"])(f,a,i,!1,null,"f7c1422c",null);p.options.__file="LoginPage.vue";t["default"]=p.exports},"4d5f":function(e,t,n){},"555c":function(e,t,n){},"5c37":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings-page"},[n("h1",[e._v("其它设置")]),n("div",{staticClass:"row settings"},[n("div",{staticClass:"row setting"},[n("span",{staticClass:"camera"},[e._v("摄像头分辨率: ")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.cameraResolution,callback:function(t){e.cameraResolution=t},expression:"cameraResolution"}},e._l(e.cameraOptions,function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})}))],1),n("div",{staticClass:"row setting"},[n("span",{staticClass:"radio"},[e._v("音频采样率: ")]),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.audioFrequency,callback:function(t){e.audioFrequency=t},expression:"audioFrequency"}},e._l(e.audioOptions,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1),n("div",{staticClass:"row setting"},[n("span",{staticClass:"gps"},[e._v("GPS坐标: ")]),n("el-input",{staticClass:"gps-input",model:{value:e.gpsCoord,callback:function(t){e.gpsCoord=t},expression:"gpsCoord"}})],1)]),n("div",{staticClass:"operations"},[n("el-button",{attrs:{type:"primary",loading:e.isUpdating},on:{click:e.onSaveBtnClick}},[e._v("保存")])],1)])},i=[],r=n("a34a"),s=n.n(r),o=n("bc3a"),c=n.n(o);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var d=function(){function e(){u(this,e)}return f(e,null,[{key:"getSettings",value:function(){return c.a.get("/api/settings").then(function(e){return e.data})}},{key:"updateSettings",value:function(e,t,n){return c.a.put("api/settings",{cameraResolution:e,audioFrequency:t,gpsCoord:n})}}]),e}();function p(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){p(r,a,i,s,o,"next",e)}function o(e){p(r,a,i,s,o,"throw",e)}s(void 0)})}}var v={data:function(){return{cameraResolution:"VGA",cameraOptions:["QVGA","VGA","HD"],gpsCoord:"",audioFrequency:8e3,audioOptions:[{value:8e3,label:"8,000HZ"},{value:11025,label:"11,025HZ"},{value:22050,label:"22,050HZ"},{value:24e3,label:"24,000HZ"},{value:44100,label:"44,100HZ"}],isUpdating:!1}},methods:{onSaveBtnClick:function(){var e=g(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isUpdating=!0,e.next=4,d.updateSettings(this.cameraResolution,this.audioFrequency,this.gpsCoord);case 4:this.isUpdating=!1,this.$message({message:"更新其它设置成功",type:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.isUpdating=!1,this.$message({message:"更新其它设置失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=g(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getSettings();case 3:t=e.sent,this.cameraResolution=t.cameraResolution,this.gpsCoord=t.gpsCoord,this.audioFrequency=t.audioFrequency,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.$message({message:"获取其它设置失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,9]])}));function t(){return e.apply(this,arguments)}return t}()},h=v,m=(n("7383"),n("2877")),w=Object(m["a"])(h,a,i,!1,null,"1dcc56e8",null);w.options.__file="SettingsPage.vue";t["default"]=w.exports},"70d3":function(e,t,n){"use strict";var a=n("4d5f"),i=n.n(a);i.a},7383:function(e,t,n){"use strict";var a=n("228d"),i=n.n(a);i.a},"73ae":function(e,t,n){},7454:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"test-page"},[n("el-row",{attrs:{gutter:12}},e._l(e.funcList,function(t,a){return n("el-col",{key:a,attrs:{xs:24,sm:12,md:6,lg:4}},[n("el-card",{staticClass:"card-container",attrs:{type:"primary",shadow:"hover"},nativeOn:{click:function(n){e.navigate(t.routeName)}}},[n("div",{staticClass:"row",class:t.name},[n("eva-icon",{attrs:{name:t.icon,fill:"#00e"}}),n("span",{staticClass:"name"},[e._v(e._s(t.name))])],1)])],1)}))],1)},i=[],r={data:function(){return{funcList:[{icon:"volume-down-outline",name:"测试扬声器",routeName:"radio-page"},{icon:"mic-outline",name:"测试麦克风",routeName:"audio-page"},{icon:"monitor-outline",name:"测试液晶屏",routeName:"monitor-page"},{icon:"video-outline",name:"测试摄像头",routeName:"camera-page"},{icon:"keypad-outline",name:"测试按键",routeName:"keypad-page"}]}},methods:{navigate:function(e){this.$router.push({name:e})}}},s=r,o=(n("8f3b"),n("2877")),c=Object(o["a"])(s,a,i,!1,null,"28d9a686",null);c.options.__file="TestPage.vue";t["default"]=c.exports},7782:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"server-page"},[n("h1",[e._v("系统服务器")]),n("div",{staticClass:"server-info"},[n("div",[e._v("\n      服务器地址: \n    ")]),n("span",{staticClass:"address"},[e._v(e._s(e.serverAddress||"空"))]),n("el-button",{staticClass:"el-icon-edit",attrs:{type:"primary"},on:{click:e.onEdit}},[e._v("修改")])],1),n("el-dialog",{attrs:{title:"修改服务器地址",visible:e.dialogConfig.show,"close-on-click-modal":!1,width:"80%"},on:{"update:visible":function(t){e.$set(e.dialogConfig,"show",t)},closed:e.onDialogClose}},[n("el-form",{ref:"dialog",attrs:{model:e.dialogConfig,rules:e.dialogRules}},[n("el-form-item",{attrs:{label:"服务器地址",prop:"address"}},[n("el-input",{attrs:{placeholder:"请输入服务器地址"},model:{value:e.dialogConfig.address,callback:function(t){e.$set(e.dialogConfig,"address",t)},expression:"dialogConfig.address"}})],1),n("el-form-item",{attrs:{label:"端口号",prop:"port"}},[n("el-input",{attrs:{placeholder:"请输入端口号"},model:{value:e.dialogConfig.port,callback:function(t){e.$set(e.dialogConfig,"port",e._n(t))},expression:"dialogConfig.port"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onConfirmBtnClick}},[e._v("确定")]),n("el-button",{attrs:{type:"danger"},on:{click:e.onCancelBtnClick}},[e._v("取消")])],1)],1)],1)},i=[],r=n("a34a"),s=n.n(r),o=n("bc3a"),c=n.n(o);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var d=function(){function e(){u(this,e)}return f(e,null,[{key:"getServerInfo",value:function(){return c.a.get("/api/server").then(function(e){return e.data})}},{key:"modifyServer",value:function(e,t){return c.a.post("api/server",{address:e,port:t})}}]),e}();function p(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){p(r,a,i,s,o,"next",e)}function o(e){p(r,a,i,s,o,"throw",e)}s(void 0)})}}var v={data:function(){return{serverInfo:{address:"",port:""},dialogConfig:{address:"",port:"",show:!1},dialogRules:{address:[{required:!0,message:"服务器地址不能为空",trigger:"blur"},{validator:function(e,t,n){/^http(s?):\/\//.test(t)?n():n(new Error("请输入正确的服务器地址, 应以http(s)://开头"))},trigger:"blur"}],port:[{required:!0,message:"端口号不能为空",trigger:"blur"},{type:"number",message:"端口号必须为数字",trigger:"blur"}]}}},methods:{onConfirmBtnClick:function(){var e=g(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.dialog.validate(function(){var e=g(s.a.mark(function e(n){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}return e.prev=1,e.next=4,d.modifyServer(t.dialogConfig.address,t.dialogConfig.port);case 4:t.dialogConfig.show=!1,t.serverInfo={address:t.dialogConfig.address,port:t.dialogConfig.port},t.$message({message:"修改服务器成功",type:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),t.$message({message:"修改服务器失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onCancelBtnClick:function(){this.dialogConfig.show=!1},onDialogClose:function(){this.$refs.dialog.resetFields()},onEdit:function(){this.dialogConfig.address=this.serverInfo.address,this.dialogConfig.port=this.serverInfo.port,this.dialogConfig.show=!0}},created:function(){var e=g(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getServerInfo();case 3:this.serverInfo=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message({message:"获取服务器信息失败",type:"error"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),computed:{serverAddress:function(){return this.serverInfo.port?"".concat(this.serverInfo.address,":").concat(this.serverInfo.port):this.serverInfo.address}}},h=v,m=(n("70d3"),n("2877")),w=Object(m["a"])(h,a,i,!1,null,"4b9e644a",null);w.options.__file="ServerPage.vue";t["default"]=w.exports},"811c":function(e,t,n){},"8d29":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keypad-page"},[n("h1",[e._v("测试按键")]),n("div",{staticClass:"result"},[e._v("\n    "+e._s(e.keyStrings.join("  "))+"\n  ")])])},i=[],r=n("a34a"),s=n.n(r),o=n("de0f");function c(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){c(r,a,i,s,o,"next",e)}function o(e){c(r,a,i,s,o,"throw",e)}s(void 0)})}}var l={data:function(){return{keyStrings:[],handle:null}},created:function(){var e=this;this.handle=setInterval(u(s.a.mark(function t(){return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["a"].getKeypadPressedKeys();case 2:e.keyStrings=t.sent;case 3:case"end":return t.stop()}},t,this)})),300),o["a"].enterTestEnv("keypad")},beforeDestroy:function(){clearInterval(this.handle),o["a"].exitTestEnv("keypad")}},f=l,d=(n("f97d"),n("2877")),p=Object(d["a"])(f,a,i,!1,null,"31557744",null);p.options.__file="KeypadPage.vue";t["default"]=p.exports},"8f3b":function(e,t,n){"use strict";var a=n("270b"),i=n.n(a);i.a},9501:function(e,t,n){"use strict";var a=n("fee1"),i=n.n(a);i.a},"9bb7":function(e,t,n){"use strict";var a=n("811c"),i=n.n(a);i.a},"9f6b":function(e,t,n){"use strict";var a=n("2533"),i=n.n(a);i.a},a1c7:function(e,t,n){"use strict";var a=n("bde5"),i=n.n(a);i.a},aa93:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"radio-page"},[n("h1",[e._v("测试扬声器")]),n("div",{staticClass:"operations"},[n("el-button",{attrs:{type:"primary",loading:e.isTesting},on:{click:e.onTestBtnClick}},[e._v("测试")]),e._e()],1)])},i=[],r=n("a34a"),s=n.n(r),o=n("de0f");function c(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){c(r,a,i,s,o,"next",e)}function o(e){c(r,a,i,s,o,"throw",e)}s(void 0)})}}var l={data:function(){return{isTesting:!1}},methods:{onStopBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].stopTestRadio();case 3:this.$message({message:"测试扬声器已停止",type:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message({message:"测试扬声器停止失败",type:"error"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),onTestBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isTesting=!0,e.next=4,o["a"].startTestRadio();case 4:this.isTesting=!1,this.$message({message:"测试扬声器成功",type:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.isTesting=!1,this.$message({message:"测试扬声器失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){o["a"].enterTestEnv("radio")},beforeDestroy:function(){o["a"].exitTestEnv("radio")}},f=l,d=(n("101f"),n("2877")),p=Object(d["a"])(f,a,i,!1,null,"be2107dc",null);p.options.__file="RadioPage.vue";t["default"]=p.exports},b82a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bracelet-page"},[n("h1",[e._v("蓝牙手环")]),n("h3",[e._v("已配置的手环列表")]),e._l(e.configuredBraceletList,function(t,a){return n("div",{key:a,staticClass:"row bracelet"},[n("eva-icon",{attrs:{name:"bluetooth",fill:"#00e"}}),n("span",[e._v("手环"+e._s(a+1)+": ")]),n("div",{staticClass:"mac"},[e._v(e._s(t.mac))]),n("div",[n("el-button",{attrs:{size:"mini",type:"primary",title:"编辑",icon:"el-icon-edit"},on:{click:function(n){e.onEditBtnClick(t.id,t)}}}),n("el-button",{attrs:{size:"mini",type:"danger",title:"删除",icon:"el-icon-delete"},on:{click:function(n){e.onDeleteBtnClick(t.id)}}})],1)],1)}),e.configuredBraceletList.length<2?n("el-button",{staticClass:"add btn",attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.onAddBtnClick}},[e._v("添加配置")]):e._e(),n("el-divider"),n("div",[n("el-button",{staticClass:"scan btn",attrs:{type:"primary",loading:e.isScanning},on:{click:e.onScanBtnClick}},[e._v("扫描手环")])],1),e.showBraceletScanResult?n("div",{staticClass:"wifi-list"},[n("h3",[e._v("可用手环设备")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.scannedBraceletList}},[n("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("eva-icon",{attrs:{name:"bluetooth",fill:"#00e"}},[e._v(e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{prop:"mac",label:"MAC地址"}}),n("el-table-column",{attrs:{prop:"mac",label:"状态",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e.configuredBraceletList.filter(function(e){return e.mac===t.row.mac}).length?"已添加":"未添加"))])]}}])})],1)],1):e._e(),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogConfig.show,"close-on-click-modal":!1,width:"80%"},on:{"update:visible":function(t){e.$set(e.dialogConfig,"show",t)},closed:e.onDialogClose}},[n("el-form",{ref:"dialog",attrs:{model:e.dialogConfig,rules:e.dialogRules}},[n("el-form-item",{attrs:{label:"MAC地址",prop:"mac"}},[n("el-input",{attrs:{placeholder:"请输入MAC地址"},model:{value:e.dialogConfig.mac,callback:function(t){e.$set(e.dialogConfig,"mac",t)},expression:"dialogConfig.mac"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.isUpdating},on:{click:e.onConfirmBtnClick}},[e._v("确定")]),n("el-button",{attrs:{type:"danger"},on:{click:e.onCancelBtnClick}},[e._v("取消")])],1)],1)],2)},i=[],r=n("a34a"),s=n.n(r),o=n("bc3a"),c=n.n(o);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var d=function(){function e(){u(this,e)}return f(e,null,[{key:"getConfiguredBraceletList",value:function(){return c.a.get("/api/bracelet_list").then(function(e){return e.data||[]})}},{key:"getBraceletInfo",value:function(e){return c.a.get("/api/bracelet/".concat(e)).then(function(e){return e.data})}},{key:"updateBracelet",value:function(e,t){return c.a.put("api/bracelet/".concat(e),{mac:t})}},{key:"addBracelet",value:function(e){return c.a.post("api/bracelet",{mac:e})}},{key:"deleteBracelet",value:function(e){return c.a.delete("api/bracelet/".concat(e))}},{key:"getScannedBraceletList",value:function(){return c.a.get("/api/scan_bracelet_list").then(function(e){return e.data})}}]),e}();function p(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){p(r,a,i,s,o,"next",e)}function o(e){p(r,a,i,s,o,"throw",e)}s(void 0)})}}var v={data:function(){return{configuredBraceletList:[],dialogConfig:{mode:"NEW",mac:"",id:"",show:!1},dialogRules:{mac:[{required:!0,message:"MAC地址不能为空",trigger:"blur"},{validator:function(e,t,n){12!==t.length?n(new Error("请输入正确12位MAC地址")):n()},trigger:"blur"}]},isUpdating:!1,scannedBraceletList:[],operatingMac:"",showBraceletScanResult:!1,isScanning:!1}},computed:{dialogTitle:function(){return"NEW"===this.dialogConfig.mode?"添加蓝牙手环配置":"编辑蓝牙手环配置"}},methods:{onAddBtnClick:function(){this.dialogConfig.id="",this.dialogConfig.mac="",this.dialogConfig.mode="NEW",this.dialogConfig.show=!0},onCancelBtnClick:function(){this.dialogConfig.show=!1},onConfirmBtnClick:function(){var e=g(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.dialog.validate(function(){var e=g(s.a.mark(function e(n){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=20;break}if(e.prev=1,t.isUpdating=!0,"NEW"!==t.dialogConfig.mode){e.next=8;break}return e.next=6,d.addBracelet(t.dialogConfig.mac);case 6:e.next=10;break;case 8:return e.next=10,d.updateBracelet(t.dialogConfig.id,t.dialogConfig.mac);case 10:t.isUpdating=!1,t.dialogConfig.show=!1,t.fetchConfiguredBraceletList(),t.$message({message:"".concat("NEW"===t.dialogConfig.mode?"添加":"更新","添加手环配置成功"),type:"success"}),e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](1),t.isUpdating=!1,t.$message({message:"".concat("NEW"===t.dialogConfig.mode?"添加":"更新","添加手环配置失败"),type:"error"});case 20:case"end":return e.stop()}},e,this,[[1,16]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onEditBtnClick:function(e,t){this.dialogConfig.mode="EDIT",this.dialogConfig.show=!0,this.dialogConfig.mac=t.mac,this.dialogConfig.id=t.id},onDeleteBtnClick:function(e){var t=this;this.$confirm("所选中的手环配置将被删除","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(g(s.a.mark(function n(){return s.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.isUpdating=!0,n.next=4,d.deleteBracelet(e);case 4:t.isUpdating=!1,t.$message({message:"删除手环配置成功",type:"success"}),t.fetchConfiguredBraceletList(),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),t.$message({message:"删除手环配置失败",type:"error"});case 12:case"end":return n.stop()}},n,this,[[0,9]])})))},onDialogClose:function(){this.$refs.dialog.resetFields()},fetchConfiguredBraceletList:function(){var e=g(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getConfiguredBraceletList();case 3:this.configuredBraceletList=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message({message:"获取手环配置失败",type:"error"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),onScanBtnClick:function(){var e=g(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isScanning=!0,e.next=4,d.getScannedBraceletList();case 4:this.scannedBraceletList=e.sent,this.showBraceletScanResult=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({message:"获取可用手环设备失败",type:"error"});case 11:this.isScanning=!1;case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),onSelectBtnClick:function(e){this.operatingMac=e}},created:function(){this.fetchConfiguredBraceletList()}},h=v,m=(n("f4a5"),n("2877")),w=Object(m["a"])(h,a,i,!1,null,"76a21a99",null);w.options.__file="BraceletPage.vue";t["default"]=w.exports},bde5:function(e,t,n){},c0e7:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"audio-page"},[n("h1",[e._v("测试麦克风")]),n("div",{staticClass:"operations"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-microphone",loading:e.isRecording},on:{click:e.onTestBtnClick}},[e._v("录制")]),e._e(),n("el-button",{attrs:{type:"success",icon:"el-icon-video-play",loading:e.isPlaying},on:{click:e.onPlayBtnClick}},[e._v("播放")])],1)])},i=[],r=n("a34a"),s=n.n(r),o=n("de0f");function c(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){c(r,a,i,s,o,"next",e)}function o(e){c(r,a,i,s,o,"throw",e)}s(void 0)})}}var l={data:function(){return{isRecording:!1,isPlaying:!1}},methods:{onStopBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].stopRecordingAudio();case 3:this.$message({message:"已停止录制",type:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message({message:"停止失败",type:"error"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),onTestBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isRecording=!0,e.next=4,o["a"].startRecordingAudio();case 4:this.isRecording=!1,this.$message({message:"录制成功",type:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.isRecording=!1,this.$message({message:"录制失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),onPlayBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isPlaying=!0,e.next=4,o["a"].playRecordedAudio();case 4:this.isPlaying=!1,this.$message({message:"播放成功",type:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.isPlaying=!1,this.$message({message:"播放失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){o["a"].enterTestEnv("audio")},beforeDestroy:function(){o["a"].exitTestEnv("audio")}},f=l,d=(n("d4ac"),n("2877")),p=Object(d["a"])(f,a,i,!1,null,"5532ab26",null);p.options.__file="AudioPage.vue";t["default"]=p.exports},c84a:function(e,t,n){},c9ce:function(e,t,n){"use strict";var a=n("73ae"),i=n.n(a);i.a},ce80:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"monitor-page"},[n("h1",[e._v("测试液晶屏")]),n("div",{staticClass:"operations"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-monitor",loading:e.isTesting},on:{click:e.onTestBtnClick}},[e._v("测试")]),e._e()],1)])},i=[],r=n("a34a"),s=n.n(r),o=n("de0f");function c(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){c(r,a,i,s,o,"next",e)}function o(e){c(r,a,i,s,o,"throw",e)}s(void 0)})}}var l={data:function(){return{isTesting:!1}},methods:{onStopBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].stopTestMonitor();case 3:this.$message({message:"测试液晶屏已停止",type:"success"}),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message({message:"测试液晶屏停止失败",type:"error"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}(),onTestBtnClick:function(){var e=u(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isTesting=!0,e.next=4,o["a"].startTestMonitor();case 4:this.isTesting=!1,this.$message({message:"测试液晶屏成功",type:"success"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.isTesting=!1,this.$message({message:"测试液晶屏失败",type:"error"});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){o["a"].enterTestEnv("monitor")},beforeDestroy:function(){o["a"].exitTestEnv("monitor")}},f=l,d=(n("9bb7"),n("2877")),p=Object(d["a"])(f,a,i,!1,null,"00f07e0c",null);p.options.__file="MonitorPage.vue";t["default"]=p.exports},d4ac:function(e,t,n){"use strict";var a=n("0bbe"),i=n.n(a);i.a},de0f:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n("bc3a"),i=n.n(a);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=function(){function e(){r(this,e)}return o(e,null,[{key:"enterTestEnv",value:function(e){return i.a.post("/api/enter_".concat(e,"_test_env")).then(function(e){return e.data})}},{key:"exitTestEnv",value:function(e){return i.a.post("/api/exit_".concat(e,"_test_env")).then(function(e){return e.data})}},{key:"startTestRadio",value:function(){return i.a.post("/api/start_test_radio").then(function(e){return e.data})}},{key:"stopTestRadio",value:function(){return i.a.post("/api/stop_test_radio").then(function(e){return e.data})}},{key:"startRecordingAudio",value:function(){return i.a.post("/api/start_recording_audio").then(function(e){return e.data})}},{key:"stopRecordingAudio",value:function(){return i.a.post("/api/stop_recording_audio").then(function(e){return e.data})}},{key:"playRecordedAudio",value:function(){return i.a.post("/api/play_recorded_audio").then(function(e){return e.data})}},{key:"startTestMonitor",value:function(){return i.a.post("/api/start_test_monitor").then(function(e){return e.data})}},{key:"stopTestMonitor",value:function(){return i.a.post("/api/stop_test_monitor").then(function(e){return e.data})}},{key:"captureCamera",value:function(){return i.a.post("/api/capture_camera").then(function(e){return e.data})}},{key:"getKeypadPressedKeys",value:function(){return i.a.get("/api/keypad").then(function(e){return e.data||[]})}}]),e}()},f4a5:function(e,t,n){"use strict";var a=n("c84a"),i=n.n(a);i.a},f94b:function(e,t,n){},f97d:function(e,t,n){"use strict";var a=n("18a9"),i=n.n(a);i.a},f9a7:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wifi-page"},[n("h1",[e._v("无线网络")]),n("div",[n("div",{staticClass:"text-container"},[n("span",[e._v("网络名称:")]),n("span",[e._v(e._s(e.wifiInfo.name||"空"))])]),n("div",{staticClass:"text-container"},[n("span",[e._v("密码:")]),n("span",[e._v(e._s(e.wifiInfo.password||"空"))])])]),n("el-button",{staticClass:"scan btn",attrs:{type:"primary",loading:e.isScanning},on:{click:e.onScanBtnClick}},[e._v("扫描网络")]),e.showWifiScanResult?n("div",{staticClass:"wifi-list"},[n("h3",[e._v("可用无线网络列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.wifiList}},[n("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("eva-icon",{attrs:{name:"wifi",fill:"#00e"}},[e._v(e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{prop:"name",label:"Wifi"}}),n("el-table-column",{attrs:{prop:"isSecured",width:"100",label:"密码状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.isSecured?"有":"无"))])]}}])}),n("el-table-column",{attrs:{prop:"isSecured",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small",disabled:t.row.name===e.wifiInfo.name,loading:e.isUpdating&&t.row.name===e.operatingWifiName},on:{click:function(n){e.onSelectBtnClick(t.row.name,t.row.isSecured)}}},[e._v("\n            "+e._s(t.row.name===e.wifiInfo.name?"已选":"选择")+"\n          ")])]}}])})],1)],1):e._e(),n("el-dialog",{attrs:{title:"设置wifi密码",visible:e.dialogConfig.show,"close-on-click-modal":!1,width:"80%"},on:{"update:visible":function(t){e.$set(e.dialogConfig,"show",t)},closed:e.onDialogClose}},[n("el-form",{ref:"dialog",attrs:{model:e.dialogConfig,rules:e.dialogRules}},[n("div",[e._v("WIFI名："+e._s(e.operatingWifiName))]),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{placeholder:"请输入wifi密码"},model:{value:e.dialogConfig.password,callback:function(t){e.$set(e.dialogConfig,"password",t)},expression:"dialogConfig.password"}})],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onConfirmBtnClick}},[e._v("确定")]),n("el-button",{attrs:{type:"danger"},on:{click:e.onCancelBtnClick}},[e._v("取消")])],1)],1)],1)},i=[],r=n("a34a"),s=n.n(r),o=n("bc3a"),c=n.n(o);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var d=function(){function e(){u(this,e)}return f(e,null,[{key:"getWifiInfo",value:function(){return c.a.get("/api/wifi").then(function(e){return e.data})}},{key:"getAvailableWifiList",value:function(){return c.a.get("/api/wifi_list").then(function(e){return e.data})}},{key:"updateWifiInfo",value:function(e,t){return c.a.post("/api/wifi",{name:e,password:t})}}]),e}();function p(e,t,n,a,i,r,s){try{var o=e[r](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(a,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(a,i){var r=e.apply(t,n);function s(e){p(r,a,i,s,o,"next",e)}function o(e){p(r,a,i,s,o,"throw",e)}s(void 0)})}}var v={data:function(){return{isScanning:!1,wifiInfo:{name:"",password:""},wifiList:[],isUpdating:!1,operatingWifiName:"",showWifiScanResult:!1,dialogConfig:{password:"",show:!1},dialogRules:{password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{onConfirmBtnClick:function(){var e=g(s.a.mark(function e(){var t=this;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.dialog.validate(function(){var e=g(s.a.mark(function e(n){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return e.prev=1,e.next=4,d.updateWifiInfo(t.operatingWifiName,t.dialogConfig.password);case 4:t.dialogConfig.show=!1,t.wifiInfo.name=t.operatingWifiName,t.wifiInfo.password=t.dialogConfig.password,t.$message({message:"更新网络配置成功",type:"success"}),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),t.$message({message:"更新网络配置失败",type:"error"});case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onCancelBtnClick:function(){this.dialogConfig.show=!1},onDialogClose:function(){this.$refs.dialog.resetFields()},onSelectBtnClick:function(){var e=g(s.a.mark(function e(t,n){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.operatingWifiName=t,!n){e.next=5;break}this.dialogConfig.show=!0,e.next=19;break;case 5:return e.prev=5,this.isUpdating=!0,e.next=9,d.updateWifiInfo(t,"");case 9:this.isUpdating=!1,this.wifiInfo.name=t,this.wifiInfo.password="",this.$message({message:"更新网络配置成功",type:"success"}),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](5),this.isUpdating=!1,this.$message({message:"更新网络配置失败",type:"error"});case 19:case"end":return e.stop()}},e,this,[[5,15]])}));function t(t,n){return e.apply(this,arguments)}return t}(),onScanBtnClick:function(){var e=g(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.isScanning=!0,e.next=4,d.getAvailableWifiList();case 4:this.wifiList=e.sent,this.showWifiScanResult=!0,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$message({message:"获取可用无线网络失败",type:"error"});case 11:this.isScanning=!1;case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=g(s.a.mark(function e(){return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.getWifiInfo();case 3:this.wifiInfo=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$message({message:"获取当前无线网络配置失败",type:"error"});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()},h=v,m=(n("28a8"),n("2877")),w=Object(m["a"])(h,a,i,!1,null,"2729a5fe",null);w.options.__file="WifiPage.vue";t["default"]=w.exports},fee1:function(e,t,n){}}]);
//# sourceMappingURL=pages.886744c5.js.map